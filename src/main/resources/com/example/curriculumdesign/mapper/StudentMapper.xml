<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- 注意：文件名必须跟Dao类名字一致，因为是根据文件名做关联。 -->
<mapper namespace="com.example.curriculumdesign.mapper.StudentMapper">
    <!-- resultType:单条记录所封装的类型 -->
    <select id="list1"  resultType="com.example.curriculumdesign.pojo.s">
        SELECT * FROM s
        <where>
            <if test="name !=null">
                name like CONCAT('%',#{name},'%')
            </if>
            <if test="gender !=null">
                and gender= #{gender}
            </if>
            <if test="minsno !=null and maxsno !=null" >
                and  sno BETWEEN #{minsno} AND #{maxsno}
            </if>
        </where>
        ORDER BY sno asc
        limit #{beginsize},#{endsize}
    </select>

    <insert id="insert" >
        INSERT INTO s(sno, name, age, gender, dept, speciality,updatatime)
        values(#{sno},#{name},#{age},#{gender},#{dept},#{speciality},now())
    </insert>

    <update id="updatetest">
        update s
        set
        <if test="name !=null and name !='' ">
            name=#{name},
        </if>
        <if test="age !=null and age !='' ">
            age=#{age},
        </if>
        <if test="gender !=null and gender !='' ">
            gender=#{gender},
        </if>
        <if test="dept !=null and dept !='' ">
            dept=#{dept},
        </if>
        <if test="speciality !=null and speciality !='' ">
            speciality=#{speciality},
        </if>
         updatatime=now()
        Where sno=#{sno}
    </update>
</mapper>